<%- include("../components/header") %>

<%- include("../components/navbar") %>

<!----------------------------------------------- Stylesheets used ------------------------------------------------>

<link rel='stylesheet' href='/stylesheets/login_register.css'/>

<!----------------------------------------------- Form-card Layout ------------------------------------------------>
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class=" justify-content-center align-items-center h-100 mt-3 ">
                <main class="form-signin w-100 m-auto p-2 d-flex justify-content-center align-items-center overflow-hidden fw-bold card shadow-lg rounded-3 bg-transparent">
                    <form class="w-75 py-5" method="POST" action="/login">


                        <h1 class="parent-text text-center align-items-center justify-content-center fw-bold fw-bolder pb-4 my-2">
                            Sign in
                        </h1>
                        <% if (hasMessages) { %>
                            <section >
                                <ol class="mb-0 list-group list-group-numbered m-1">
                                    <% messages.forEach(function(message) { %>
                                        <li class="border border-danger border-1 bg-danger-subtle pt-2 pb-2 rounded-1 mb-1 list-group-item"><%= message %></li>
                                    <% }); %>
                                </ol>
                            </section>
                        <% } %>
                        <div class="pb-2">
                            <div class="form-floating mt-1 mx-1">
                                <input type="email" class="form-control" id="email" name="email"
                                       placeholder="name@example.com" required>
                                <label for="email">Email address</label>
                            </div>
                            <div class="form-floating mb-1 mx-1">
                                <input type="password" class="form-control" id="password" name="password"
                                       placeholder="Password"
                                       required>
                                <label for="password">Password</label>
                            </div>
                        </div>

                        <div class="px-3">
                            <div class="form-check form-switch justify-content-center mx-auto m-1">
                                <input class="form-check-input" type="checkbox" id="rememberMe" name="rememberMe">

                                <label class="form-check-label" for="rememberMe">Remember me</label>
                            </div>
                        </div>

                        <div class="text-center align-content-center fw-bolder mt-3 ">
                            <a href="/forgot-password" class="hover-link text-decoration-none">Forgot
                                password?</a>
                        </div>

                        <div class="card-footer-login my-3">
                            <button class="btn btn-primary w-100 py-2"
                                    id="submit-btn"
                                    <%= failedCaptcha ? "disabled": ""%>
                                    data-sitekey="<%= process.env.CAPTCHA_PUBLIC %>>"
                                    data-callback='onSubmit'
                                    data-action='submit'>Sign in
                            </button>
                            <input type="hidden" id="token" name="token">
                            <div class="text-center align-content-center fw-bolder mt-3 ">
                                <p>Don't have an account? <a href="/register"
                                                             class="hover-link text-decoration-none">Register</a></p>

                            </div>
                        </div>
                    </form>
                </main>
            </div>
        </div>
    </div>
</div>
<<<<<<< HEAD
<script src="https://www.google.com/recaptcha/api.js?render=<%= process.env.CAPTCHA_PUBLIC %>"></script>
<script src="/javascripts/captcha/captcha.js"></script>
<script>
    executeCaptcha(process.env.CAPTCHA_PUBLIC, "login")
</script>

<%- include("../components/footer") %>